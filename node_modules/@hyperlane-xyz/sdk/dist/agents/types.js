"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
exports.buildAgentConfig = exports.AgentConnectionType = void 0;
var AgentConnectionType;
(function (AgentConnectionType) {
    AgentConnectionType["Http"] = "http";
    AgentConnectionType["Ws"] = "ws";
    AgentConnectionType["HttpQuorum"] = "httpQuorum";
    AgentConnectionType["HttpFallback"] = "httpFallback";
})(AgentConnectionType = exports.AgentConnectionType || (exports.AgentConnectionType = {}));
function buildAgentConfig(chains, multiProvider, addresses, startBlocks) {
    var _a, _b;
    const agentConfig = {
        chains: {},
    };
    for (const chain of [...chains].sort()) {
        const metadata = multiProvider.getChainMetadata(chain);
        const chainConfig = {
            name: chain,
            domain: metadata.chainId,
            addresses: {
                mailbox: addresses[chain].mailbox,
                interchainGasPaymaster: addresses[chain].interchainGasPaymaster,
                validatorAnnounce: addresses[chain].validatorAnnounce,
            },
            protocol: metadata.protocol,
            finalityBlocks: (_b = (_a = metadata.blocks) === null || _a === void 0 ? void 0 : _a.reorgPeriod) !== null && _b !== void 0 ? _b : 1,
        };
        chainConfig.index = {
            from: startBlocks[chain],
        };
        agentConfig.chains[chain] = chainConfig;
    }
    return agentConfig;
}
exports.buildAgentConfig = buildAgentConfig;
//# sourceMappingURL=types.js.map