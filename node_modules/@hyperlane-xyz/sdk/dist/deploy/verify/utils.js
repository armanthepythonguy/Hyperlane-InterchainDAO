"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
exports.getContractVerificationInput = exports.buildVerificationInput = exports.getConstructorArguments = exports.formatFunctionArguments = void 0;
function formatFunctionArguments(fragment, args) {
    const params = Object.fromEntries(fragment.inputs.map((input, index) => [input.name, args[index]]));
    return JSON.stringify(params, null, 2);
}
exports.formatFunctionArguments = formatFunctionArguments;
function getConstructorArguments(contract, bytecode) {
    const tx = contract.deployTransaction;
    if (tx === undefined)
        throw new Error('deploy transaction not found');
    return tx.data.replace(bytecode, '');
}
exports.getConstructorArguments = getConstructorArguments;
function buildVerificationInput(name, address, constructorArguments, isProxy = name.endsWith('Proxy')) {
    return {
        name: name.charAt(0).toUpperCase() + name.slice(1),
        address,
        constructorArguments,
        isProxy,
    };
}
exports.buildVerificationInput = buildVerificationInput;
function getContractVerificationInput(name, contract, bytecode, isProxy) {
    const args = getConstructorArguments(contract, bytecode);
    return buildVerificationInput(name, contract.address, args, isProxy);
}
exports.getContractVerificationInput = getContractVerificationInput;
//# sourceMappingURL=utils.js.map